(function(){"use strict";var e={2156:function(e,t,a){var i=a(9242),l=a(3396),o=a(7718),s=a(9271);function r(e,t,a,i,r,n){const d=(0,l.up)("Navigation"),u=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(o.q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d),(0,l.Wm)(s.O,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1})}var n=a(7139),d=a(588),u=a(1556),c=a(652),m=a(6357),g=a(7229),f=a(4075),p=a(9234),h=a(3289),w=a(2329),b=a(3634),v=a(2127),y=a(7769),_=a(4193);const k=(0,l.Uk)(" ðŸŽ¸ Tab Tracker "),x=(0,l.Uk)("Login"),W=(0,l.Uk)("Register"),U=(0,l.Uk)("Songs"),T=(0,l.Uk)("Add Tab"),D=(0,l.Uk)("mdi-account"),V=(0,l.Uk)("mdi-account-circle"),C=(0,l.Uk)("Profile"),S=(0,l.Uk)("mdi-logout"),z=(0,l.Uk)("Logout");function j(e,t,a,i,o,s){return(0,l.wg)(),(0,l.j4)(d.L,{app:"",color:"primary",dark:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u.o,{class:"cursor-pointer",onClick:s.goHome},{default:(0,l.w5)((()=>[k])),_:1},8,["onClick"]),(0,l.Wm)(p.C),s.isLoggedIn?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(m.T,{variant:"text",to:"/songs"},{default:(0,l.w5)((()=>[U])),_:1}),(0,l.Wm)(m.T,{variant:"text",to:"/songs/create"},{default:(0,l.w5)((()=>[T])),_:1}),(0,l.Wm)(_.T,{modelValue:o.profileMenuOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>o.profileMenuOpen=e),location:"bottom end",origin:"top end",offset:10,"max-width":260},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(m.T,(0,l.dG)({icon:""},e,{class:""}),{default:(0,l.w5)((()=>[(0,l.Wm)(c.V,{color:"primary",variant:"tonal",size:"36"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,null,{default:(0,l.w5)((()=>[D])),_:1})])),_:1})])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(g._,{"min-width":"200","max-width":"240"},{default:(0,l.w5)((()=>[(0,l.Wm)(w.i,{density:"comfortable"},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,{to:"/profile",router:""},{prepend:(0,l.w5)((()=>[(0,l.Wm)(h.t,null,{default:(0,l.w5)((()=>[V])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(v.V,{class:"pa-2"},{default:(0,l.w5)((()=>[C])),_:1}),s.user.email?((0,l.wg)(),(0,l.j4)(y.o,{key:0,class:"pa-2"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.user.email),1)])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(f.J),(0,l.Wm)(b.l,{onClick:s.logout},{prepend:(0,l.w5)((()=>[(0,l.Wm)(h.t,{color:"error"},{default:(0,l.w5)((()=>[S])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(v.V,{class:"text-error pa-2"},{default:(0,l.w5)((()=>[z])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(m.T,{variant:"text",to:"/login"},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(m.T,{variant:"text",to:"/register"},{default:(0,l.w5)((()=>[W])),_:1})],64))])),_:1})}var I=a(4870);const F=(0,I.qj)({token:localStorage.getItem("token"),user:JSON.parse(localStorage.getItem("user")||"null"),setAuth(e,t){this.token=e,this.user=t,localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},clear(){this.token=null,this.user=null,localStorage.removeItem("token"),localStorage.removeItem("user")}});var P={name:"AppNavigation",data(){return{profileMenuOpen:!1}},computed:{isLoggedIn(){return!!F.token},user(){return F.user||{}}},methods:{logout(){F.clear(),this.$router.push("/")},goHome(){this.$router.push("/")},closeProfileMenu(){this.profileMenuOpen=!1,this.logout()},logoutAndClose(){F.clear?.(),localStorage.removeItem("token"),localStorage.removeItem("user"),this.$router.push("/login")}}},A=a(89);const O=(0,A.Z)(P,[["render",j],["__scopeId","data-v-768f9a1b"]]);var L=O,N={name:"App",components:{Navigation:L},data:()=>({})};const $=(0,A.Z)(N,[["render",r]]);var M=$,q=a(678);function R(e,t,a,i,o,s){const r=(0,l.up)("TabTracker");return(0,l.wg)(),(0,l.j4)(r)}var E=a(3369),B=a(6824),K=a(8521);const Z=(0,l.Uk)("mdi-music"),H=(0,l._)("h1",{class:"display-2 font-weight-bold mt-4"}," Tab Tracker ",-1),Y=(0,l._)("p",{class:"subtitle-1 mt-2"}," Track, organize and learn your favorite guitar tabs ðŸŽ¸ ",-1),J={class:"mt-6 d-flex justify-center flex-wrap",style:{gap:"12px"}},G=(0,l.Uk)(" Go to Songs "),Q=(0,l.Uk)(" Add a Tab "),X=(0,l.Uk)(" Create account "),ee=(0,l.Uk)(" Log in "),te={key:0,class:"mt-3 text-medium-emphasis"},ae={class:"headline font-weight-bold mt-3"},ie={class:"body-1 mt-2"};function le(e,t,a,i,o,s){return(0,l.wg)(),(0,l.j4)(E.K,null,{default:(0,l.w5)((()=>[(0,l.Wm)(B.o,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(K.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{size:"96",color:"primary"},{default:(0,l.w5)((()=>[Z])),_:1}),H,Y,(0,l._)("div",J,[s.isLoggedIn?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(m.T,{color:"primary",large:"",elevation:"6",onClick:s.goToSongs},{default:(0,l.w5)((()=>[G])),_:1},8,["onClick"]),(0,l.Wm)(m.T,{variant:"outlined",large:"",onClick:s.goToCreate},{default:(0,l.w5)((()=>[Q])),_:1},8,["onClick"])],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(m.T,{color:"primary",large:"",elevation:"6",onClick:s.goToRegister},{default:(0,l.w5)((()=>[X])),_:1},8,["onClick"]),(0,l.Wm)(m.T,{variant:"outlined",large:"",onClick:s.goToLogin},{default:(0,l.w5)((()=>[ee])),_:1},8,["onClick"])],64))]),s.isLoggedIn?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",te," Save tabs, track progress, and edit your collection anytime. "))])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.features,((e,t)=>((0,l.wg)(),(0,l.j4)(K.D,{cols:"12",md:"4",key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{elevation:"6",class:"pa-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{size:"40",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.icon),1)])),_:2},1024),(0,l._)("h3",ae,(0,n.zw)(e.title),1),(0,l._)("p",ie,(0,n.zw)(e.text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}var oe={name:"TabTracker",data:()=>({features:[{title:"Save Tabs",text:"Store your favorite songs and tabs in one place.",icon:"mdi-playlist-music"},{title:"Practice Smarter",text:"Track progress and focus on what you need to learn.",icon:"mdi-guitar-electric"},{title:"Organize Easily",text:"Search, edit and manage your tabs effortlessly.",icon:"mdi-folder-music"}]}),computed:{isLoggedIn(){return!!localStorage.getItem("token")}},methods:{goToSongs(){this.$router.push("/songs")},goToCreate(){this.$router.push("/songs/create")},goToLogin(){this.$router.push("/login")},goToRegister(){this.$router.push("/register")}}};const se=(0,A.Z)(oe,[["render",le]]);var re=se,ne=(0,l.aZ)({name:"HomeView",components:{TabTracker:re}});const de=(0,A.Z)(ne,[["render",R]]);var ue=de,ce=a(7771),me=a(6422),ge=a(2902);const fe=e=>((0,l.dD)("data-v-5b739928"),e=e(),(0,l.Cn)(),e),pe={class:"text-center mb-6"},he=(0,l.Uk)("mdi-account-plus"),we=fe((()=>(0,l._)("h1",{class:"text-h5 font-weight-bold mt-2"},"Create your account",-1))),be=fe((()=>(0,l._)("p",{class:"text-body-2 text-medium-emphasis mt-1"}," Join Tab Tracker and start saving your tabs. ",-1))),ve=(0,l.Uk)(" Create account "),ye={class:"text-center mt-4"},_e=fe((()=>(0,l._)("span",{class:"text-body-2 text-medium-emphasis"}," Already have an account? ",-1))),ke=(0,l.Uk)(" Log in ");function xe(e,t,a,o,s,r){return(0,l.wg)(),(0,l.j4)(E.K,{class:"fill-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(B.o,{justify:"center",align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(K.D,{cols:"12",sm:"10",md:"7",lg:"5"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{class:"pa-6",elevation:"6",rounded:"xl"},{default:(0,l.w5)((()=>[(0,l._)("div",pe,[(0,l.Wm)(h.t,{size:"48",color:"primary"},{default:(0,l.w5)((()=>[he])),_:1}),we,be]),(0,l.Wm)(me.O,{ref:"form",onSubmit:(0,i.iM)(r.registerUser,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(ge.h,{modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),modelModifiers:{trim:!0},label:"Email",type:"email",autocomplete:"email","prepend-inner-icon":"mdi-email-outline",variant:"outlined",density:"comfortable",rules:s.emailRules,class:"mb-3"},null,8,["modelValue","rules"]),(0,l.Wm)(ge.h,{modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),type:s.showPassword?"text":"password",label:"Password",autocomplete:"new-password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":s.showPassword?"mdi-eye-off":"mdi-eye","onClick:appendInner":t[2]||(t[2]=e=>s.showPassword=!s.showPassword),variant:"outlined",density:"comfortable",rules:s.passwordRules,hint:"Minimum 8 characters","persistent-hint":"",class:"mb-2"},null,8,["modelValue","type","append-inner-icon","rules"]),s.error?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"error",variant:"tonal",class:"mt-4",border:"start"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.error),1)])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(m.T,{class:"mt-5",color:"primary",size:"large",block:"",type:"submit",loading:s.loading,disabled:s.loading},{default:(0,l.w5)((()=>[ve])),_:1},8,["loading","disabled"]),(0,l._)("div",ye,[_e,(0,l.Wm)(m.T,{variant:"text",to:"/login",router:"",class:"px-1"},{default:(0,l.w5)((()=>[ke])),_:1})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var We=a(6265),Ue=a.n(We);const Te=Ue().create({baseURL:"http://localhost:8081/"});Te.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}));var De=()=>Te,Ve={register(e){return De().post("register",e)},login(e){return De().post("/login",e)}},Ce={name:"RegisterUser",data(){return{email:"",password:"",error:null,loading:!1,isValid:!1,showPassword:!1,emailRules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Enter a valid email"],passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=8||"Password must be at least 8 characters"]}},methods:{async registerUser(){this.error=null;const{valid:e}=await this.$refs.form.validate();if(e){this.loading=!0;try{await Ve.register({email:this.email,password:this.password});const e=await Ve.login({email:this.email,password:this.password});F.setAuth(e.data.token,e.data.user),this.$router.push("/songs")}catch(t){this.error=t?.response?.data?.error||"Registration failed."}finally{this.loading=!1}}}}};const Se=(0,A.Z)(Ce,[["render",xe],["__scopeId","data-v-5b739928"]]);var ze=Se;const je=e=>((0,l.dD)("data-v-3e42e15c"),e=e(),(0,l.Cn)(),e),Ie={class:"text-center mb-6"},Fe=(0,l.Uk)("mdi-login"),Pe=je((()=>(0,l._)("h1",{class:"text-h5 font-weight-bold mt-2"},"Welcome back",-1))),Ae=je((()=>(0,l._)("p",{class:"text-body-2 text-medium-emphasis mt-1"}," Log in to continue tracking your tabs. ",-1))),Oe=(0,l.Uk)(" Log in "),Le={class:"text-center mt-4"},Ne=je((()=>(0,l._)("span",{class:"text-body-2 text-medium-emphasis"}," Donâ€™t have an account? ",-1))),$e=(0,l.Uk)(" Create one ");function Me(e,t,a,o,s,r){return(0,l.wg)(),(0,l.j4)(E.K,{class:"fill-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(B.o,{justify:"center",align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(K.D,{cols:"12",sm:"10",md:"7",lg:"5"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{class:"pa-6",elevation:"6",rounded:"xl"},{default:(0,l.w5)((()=>[(0,l._)("div",Ie,[(0,l.Wm)(h.t,{size:"48",color:"primary"},{default:(0,l.w5)((()=>[Fe])),_:1}),Pe,Ae]),(0,l.Wm)(me.O,{ref:"form",onSubmit:(0,i.iM)(r.login,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(ge.h,{modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),modelModifiers:{trim:!0},label:"Email",type:"email",autocomplete:"email","prepend-inner-icon":"mdi-email-outline",variant:"outlined",density:"comfortable",rules:s.emailRules,class:"mb-3"},null,8,["modelValue","rules"]),(0,l.Wm)(ge.h,{modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),type:s.showPassword?"text":"password",label:"Password",autocomplete:"current-password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":s.showPassword?"mdi-eye-off":"mdi-eye","onClick:appendInner":t[2]||(t[2]=e=>s.showPassword=!s.showPassword),variant:"outlined",density:"comfortable",rules:s.passwordRules},null,8,["modelValue","type","append-inner-icon","rules"]),s.error?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"error",variant:"tonal",class:"mt-4",border:"start"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.error),1)])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(m.T,{class:"mt-5",color:"primary",size:"large",block:"",type:"submit",loading:s.loading,disabled:s.loading},{default:(0,l.w5)((()=>[Oe])),_:1},8,["loading","disabled"]),(0,l._)("div",Le,[Ne,(0,l.Wm)(m.T,{variant:"text",to:"/register",router:"",class:"px-1"},{default:(0,l.w5)((()=>[$e])),_:1})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var qe={name:"LoginUser",data(){return{email:"",password:"",error:null,loading:!1,isValid:!1,showPassword:!1,emailRules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Enter a valid email"],passwordRules:[e=>!!e||"Password is required"]}},methods:{async login(){this.error=null;const{valid:e}=await this.$refs.form.validate();if(e){this.loading=!0;try{const e=await Ve.login({email:this.email,password:this.password});F.setAuth(e.data.token,e.data.user),this.$router.push("/songs")}catch(t){this.error=t?.response?.data?.error||"Login failed. Please check your credentials."}finally{this.loading=!1}}}}};const Re=(0,A.Z)(qe,[["render",Me],["__scopeId","data-v-3e42e15c"]]);var Ee=Re,Be=a(6572),Ke=a(1888),Ze=a(1334),He=a(7103),Ye=a(3601),Je=a(7325),Ge=a(240),Qe=a(9671),Xe=a(268),et=a(8952);const tt=e=>((0,l.dD)("data-v-7717f182"),e=e(),(0,l.Cn)(),e),at={class:"d-flex align-center justify-space-between mb-6 songs-header"},it=tt((()=>(0,l._)("div",null,[(0,l._)("h1",{class:"text-h5 font-weight-bold"},"My Songs"),(0,l._)("p",{class:"text-body-2 text-medium-emphasis"},[(0,l.Uk)(" Browse everything returned from "),(0,l._)("code",null,"/songs"),(0,l.Uk)(". ")])],-1))),lt=(0,l.Uk)("mdi-refresh"),ot=(0,l.Uk)(" Refresh "),st=tt((()=>(0,l._)("div",{class:"text-medium-emphasis"},"Loading songsâ€¦",-1))),rt=(0,l.Uk)("mdi-playlist-music"),nt=tt((()=>(0,l._)("h2",{class:"text-h6 font-weight-bold mt-3"},"No songs found",-1))),dt=tt((()=>(0,l._)("p",{class:"text-body-2 text-medium-emphasis mt-1"}," Either your database is empty or your search filters everything out. ",-1))),ut={class:"d-flex align-center justify-center pa-4"},ct=(0,l.Uk)("mdi-music"),mt={class:"d-flex align-center justify-space-between pa-4"},gt={class:"d-flex align-center",style:{gap:"12px"}},ft={class:"d-flex align-center",style:{gap:"8px"}},pt={class:"font-weight-bold text-body-1"},ht={class:"text-body-2 text-medium-emphasis mt-1"},wt={class:"mt-3 pb-2 d-flex flex-wrap",style:{gap:"6px"}},bt={class:"d-flex align-center",style:{gap:"6px"}},vt=(0,l.Uk)("mdi-delete-outline"),yt={key:0,class:"mx-4 mb-4 pa-4 rounded-lg",style:{background:"rgba(0,0,0,0.04)"}},_t={class:"d-flex align-center justify-space-between mb-3"},kt=tt((()=>(0,l._)("div",{class:"text-subtitle-2 font-weight-bold"},"Tab",-1))),xt=(0,l.Uk)("mdi-content-copy"),Wt=(0,l.Uk)(" Copy "),Ut=(0,l.Uk)(" No tab content available. "),Tt={key:1,class:"tab-box"},Dt={class:"pa-4"},Vt={class:"d-flex align-center justify-space-between text-caption text-medium-emphasis"},Ct=tt((()=>(0,l._)("span",null,"Progress",-1))),St={class:"text-caption text-medium-emphasis mt-2"},zt=(0,l.Uk)(" Last practiced: "),jt={class:"font-weight-medium"},It=(0,l.Uk)(" Delete song? "),Ft=(0,l.Uk)(" This will permanently delete: "),Pt={class:"mt-2 font-weight-bold"},At=(0,l.Uk)(" Cancel "),Ot=(0,l.Uk)(" Delete ");function Lt(e,t,a,o,s,r){return(0,l.wg)(),(0,l.j4)(E.K,null,{default:(0,l.w5)((()=>[(0,l._)("div",at,[it,(0,l.Wm)(m.T,{color:"primary",onClick:r.refresh,loading:s.loading},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[lt])),_:1}),ot])),_:1},8,["onClick","loading"])]),(0,l.Wm)(B.o,{class:"mb-2",dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(K.D,{cols:"12",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(ge.h,{modelValue:s.search,"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),label:"Search",placeholder:"Search by any text...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(K.D,{cols:"12",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ge.rL,{modelValue:s.sortMode,"onUpdate:modelValue":t[1]||(t[1]=e=>s.sortMode=e),items:s.sortOptions,"item-value":"value",label:"Sort","prepend-inner-icon":"mdi-sort",variant:"outlined",density:"comfortable"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(K.D,{cols:"12",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ge.rL,{modelValue:s.difficultyFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>s.difficultyFilter=e),items:s.difficultyFilterOptions,"item-value":"value",label:"Difficulty","prepend-inner-icon":"mdi-filter",variant:"outlined",density:"comfortable","hide-details":"auto"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(K.D,{cols:"12",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ge.rL,{modelValue:s.tagFilter,"onUpdate:modelValue":t[3]||(t[3]=e=>s.tagFilter=e),items:r.availableTags,label:"Tag",variant:"outlined",density:"comfortable","hide-details":"auto"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(K.D,{cols:"12",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Xe.G,{modelValue:s.favoritesOnly,"onUpdate:modelValue":t[4]||(t[4]=e=>s.favoritesOnly=e),label:"Favorites",color:"warning","hide-details":"auto",inset:""},null,8,["modelValue"])])),_:1})])),_:1}),s.error?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"error",variant:"tonal",class:"mb-4",border:"start"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.error),1)])),_:1})):(0,l.kq)("",!0),s.loading?((0,l.wg)(),(0,l.j4)(g._,{key:1,class:"pa-6",rounded:"xl"},{default:(0,l.w5)((()=>[st,(0,l.Wm)(Je.K,{indeterminate:"",class:"mt-3"})])),_:1})):0===r.filteredSongs.length?((0,l.wg)(),(0,l.j4)(g._,{key:2,class:"pa-10 text-center",rounded:"xl",elevation:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{size:"48",color:"primary"},{default:(0,l.w5)((()=>[rt])),_:1}),nt,dt])),_:1})):((0,l.wg)(),(0,l.j4)(B.o,{key:3,dense:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.filteredSongs,(t=>((0,l.wg)(),(0,l.j4)(K.D,{key:r.getId(t),cols:"12",md:"6",lg:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"xl",elevation:"6",class:"h-100 song-card",onClick:a=>e.$router.push(`/songs/${r.getId(t)}`)},{default:(0,l.w5)((()=>[(0,l._)("div",ut,[(0,l.Wm)(c.V,{color:"primary",variant:"tonal"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,null,{default:(0,l.w5)((()=>[ct])),_:1})])),_:1})]),(0,l._)("div",mt,[(0,l._)("div",gt,[(0,l._)("div",null,[(0,l._)("div",ft,[(0,l._)("div",pt,(0,n.zw)(r.getTitle(t)),1),(0,l.Wm)(He.v,{size:"x-small",variant:"outlined",color:r.difficultyColor(r.getDifficulty(t))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(r.difficultyLabel(r.getDifficulty(t))),1)])),_:2},1032,["color"])]),(0,l._)("div",ht,(0,n.zw)(r.getSubtitle(t)),1),(0,l._)("div",wt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.getTags(t).slice(0,5),(e=>((0,l.wg)(),(0,l.j4)(He.v,{key:e,size:"x-small",variant:"outlined"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e),1)])),_:2},1024)))),128))])])]),(0,l._)("div",bt,[(0,l.Wm)(m.T,{icon:"",variant:"text",title:s.expandedId===r.getId(t)?"Hide tab":"Show tab",onClick:(0,i.iM)((e=>r.toggleExpand(t)),["stop"])},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.expandedId===r.getId(t)?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:2},1024)])),_:2},1032,["title","onClick"]),(0,l.Wm)(m.T,{icon:"",variant:"text",title:t.isFavorite?"Unfavorite":"Favorite",onClick:(0,i.iM)((e=>r.toggleFavorite(t)),["stop"])},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{color:t.isFavorite?"warning":void 0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.isFavorite?"mdi-star":"mdi-star-outline"),1)])),_:2},1032,["color"])])),_:2},1032,["title","onClick"]),(0,l.Wm)(m.T,{icon:"",variant:"text",color:"error",title:"Delete",loading:s.deletingId===r.getId(t),onClick:(0,i.iM)((e=>r.askDelete(t)),["stop"])},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,null,{default:(0,l.w5)((()=>[vt])),_:1})])),_:2},1032,["loading","onClick"])])]),(0,l.Wm)(et.Fx,null,{default:(0,l.w5)((()=>[s.expandedId===r.getId(t)?((0,l.wg)(),(0,l.iD)("div",yt,[(0,l._)("div",_t,[kt,r.getTab(t)?((0,l.wg)(),(0,l.j4)(m.T,{key:0,size:"small",variant:"outlined",onClick:(0,i.iM)((e=>r.copyTab(t)),["stop"])},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:"",size:"18"},{default:(0,l.w5)((()=>[xt])),_:1}),Wt])),_:2},1032,["onClick"])):(0,l.kq)("",!0)]),r.getTab(t)?((0,l.wg)(),(0,l.iD)("pre",Tt,(0,n.zw)(r.getTab(t)),1)):((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"info",variant:"outlined",border:"start"},{default:(0,l.w5)((()=>[Ut])),_:1}))])):(0,l.kq)("",!0)])),_:2},1024),(0,l._)("div",Dt,[(0,l._)("div",Vt,[Ct,(0,l._)("span",null,(0,n.zw)(t.progress??0)+"%",1)]),(0,l.Wm)(Je.K,{"model-value":t.progress??0,height:"8",rounded:"",class:"mt-1"},null,8,["model-value"]),(0,l._)("div",St,[zt,(0,l._)("span",jt,(0,n.zw)(t.lastPracticedAt?r.formatDate(t.lastPracticedAt):"Never"),1)])])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})),(0,l.Wm)(Ye.B,{modelValue:s.deleteDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>s.deleteDialog=e),"max-width":"520"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"xl"},{default:(0,l.w5)((()=>[(0,l.Wm)(Be.E,{class:"text-h6 font-weight-bold"},{default:(0,l.w5)((()=>[It])),_:1}),(0,l.Wm)(Ke.Z,null,{default:(0,l.w5)((()=>[Ft,(0,l._)("div",Pt,(0,n.zw)(s.pendingDelete?r.getTitle(s.pendingDelete):""),1)])),_:1}),(0,l.Wm)(Ze.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p.C),(0,l.Wm)(m.T,{variant:"text",onClick:t[5]||(t[5]=e=>s.deleteDialog=!1),disabled:!!s.deletingId},{default:(0,l.w5)((()=>[At])),_:1},8,["disabled"]),(0,l.Wm)(m.T,{color:"error",onClick:r.confirmDelete,loading:!!s.deletingId},{default:(0,l.w5)((()=>[Ot])),_:1},8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(Qe.v,{modelValue:s.snackbar.show,"onUpdate:modelValue":t[7]||(t[7]=e=>s.snackbar.show=e),timeout:2500},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.snackbar.text),1)])),_:1},8,["modelValue"])])),_:1})}a(2801);var Nt={fetchAll(){return De().get("/songs")},getById(e){return De().get(`/songs/${e}`)},create(e){return De().post("/songs",e)},update(e,t){return De().put(`/songs/${e}`,t)},remove(e){return De().delete(`/songs/${e}`)},toggleFavorite(e){return De().patch(`/songs/${e}/favorite`)},practiceNow(e,t={}){return De().patch(`/songs/${e}/practice`,t)}},$t={name:"SongsView",data(){return{songs:[],loading:!1,error:null,search:"",sortMode:"newest",sortOptions:[{title:"Newest first (createdAt)",value:"newest"},{title:"Oldest first (createdAt)",value:"oldest"},{title:"Title A â†’ Z (best guess)",value:"title_asc"},{title:"Title Z â†’ A (best guess)",value:"title_desc"}],expandedId:null,deleteDialog:!1,pendingDelete:null,deletingId:null,snackbar:{show:!1,text:""},difficultyFilter:"all",difficultyFilterOptions:[{title:"All",value:"all"},{title:"Beginner",value:"beginner"},{title:"Intermediate",value:"intermediate"},{title:"Advanced",value:"advanced"}],tagFilter:"all",favoritesOnly:!1}},computed:{filteredSongs(){const e=this.search.trim().toLowerCase();let t=this.songs.filter((t=>{if(!e)return!0;try{return JSON.stringify(t).toLowerCase().includes(e)}catch{return!1}}));const a=(e,t)=>this.getTitle(e).localeCompare(this.getTitle(t)),i=e=>{const t=e?.createdAt||e?.created_at||e?.created||e?.date,a=t?new Date(t).getTime():0;return Number.isFinite(a)?a:0};return"newest"===this.sortMode?t=[...t].sort(((e,t)=>i(t)-i(e))):"oldest"===this.sortMode?t=[...t].sort(((e,t)=>i(e)-i(t))):"title_asc"===this.sortMode?t=[...t].sort(a):"title_desc"===this.sortMode&&(t=[...t].sort(((e,t)=>a(t,e)))),"all"!==this.difficultyFilter&&(t=t.filter((e=>(e?.difficulty||"beginner")===this.difficultyFilter))),"all"!==this.tagFilter&&(t=t.filter((e=>this.getTags(e).includes(this.tagFilter)))),this.favoritesOnly&&(t=t.filter((e=>!!e.isFavorite))),t},availableTags(){const e=new Set;return(this.songs||[]).forEach((t=>{const a=this.getTags(t);(Array.isArray(a)?a:[]).forEach((t=>e.add(t)))})),["all",...Array.from(e).sort()]}},async created(){await this.refresh()},methods:{async refresh(){this.error=null,this.loading=!0;try{const e=await Nt.fetchAll();this.songs=Array.isArray(e.data)?e.data:e.data?.songs||[]}catch(e){this.error=e?.response?.data?.error||"Failed to load songs."}finally{this.loading=!1}},toggleExpand(e){const t=this.getId(e);this.expandedId=this.expandedId===t?null:t},getId(e){return e?.id??e?._id??e?.uuid??this.safeHash(e)},safeHash(e){try{return"tmp_"+btoa(unescape(encodeURIComponent(JSON.stringify(e)))).slice(0,12)}catch{return"tmp_"+Math.random().toString(16).slice(2)}},getTitle(e){const t=[e?.title,e?.name,e?.songTitle,e?.song,e?.track].filter(Boolean);if(t.length)return String(t[0]);const a=this.firstStringField(e);return a||"Untitled song"},getSubtitle(e){const t=e?.artist||e?.band||e?.author||e?.composer||null,a=e?.createdAt||e?.created_at||e?.created||e?.date||null,i=[];return t&&i.push(`Artist: ${t}`),a&&i.push(`Created: ${this.formatDate(a)}`),i.length||i.push("No extra info"),i.join(" â€¢ ")},formatDate(e){const t=new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleString()},firstStringField(e){if(!e||"object"!==typeof e)return null;for(const t of Object.keys(e)){const a=e[t];if("string"===typeof a&&a.trim().length)return a.trim()}return null},getTab(e){return e?.tab||e?.tabs||e?.content||e?.notes||e?.lyrics||""},async copyTab(e){try{await navigator.clipboard.writeText(this.getTab(e)),this.snack("Tab copied!")}catch{this.snack("Copy failed.")}},askDelete(e){this.pendingDelete=e,this.deleteDialog=!0},async confirmDelete(){if(!this.pendingDelete)return;const e=this.getId(this.pendingDelete);this.deletingId=e;try{await Nt.remove(e),this.songs=this.songs.filter((t=>this.getId(t)!==e)),this.expandedId===e&&(this.expandedId=null),this.snack("Deleted.")}catch(t){this.error=t?.response?.data?.error||"Failed to delete song."}finally{this.deletingId=null,this.deleteDialog=!1,this.pendingDelete=null}},snack(e){this.snackbar.text=e,this.snackbar.show=!0},getDifficulty(e){return e?.difficulty||"beginner"},normalizeDifficulty(e){const t=String(e||"").toLowerCase().trim();return["beginner","intermediate","advanced"].includes(t)?t:"beginner"},difficultyLabel(e){const t=this.normalizeDifficulty(e);return"beginner"===t?"Beginner":"intermediate"===t?"Intermediate":"Advanced"},difficultyColor(e){const t=this.normalizeDifficulty(e);return"beginner"===t?"success":"intermediate"===t?"warning":"error"},getTags(e){try{const t=e?.tags;if(Array.isArray(t))return t.filter(Boolean).map((e=>String(e).toLowerCase().trim()));const a=JSON.parse(t||"[]");return Array.isArray(a)?a.filter(Boolean).map((e=>String(e).toLowerCase().trim())).filter(Boolean):[]}catch{return[]}},async toggleFavorite(e){const t=this.getId(e);e.isFavorite=!e.isFavorite;try{const a=await Nt.toggleFavorite(t);e.isFavorite=!!a.data.isFavorite}catch(a){e.isFavorite=!e.isFavorite,this.error=a?.response?.data?.error||"Could not update favorite."}}}};const Mt=(0,A.Z)($t,[["render",Lt],["__scopeId","data-v-7717f182"]]);var qt=Mt,Rt=a(3121),Et=a(4842);const Bt=e=>((0,l.dD)("data-v-0844f22d"),e=e(),(0,l.Cn)(),e),Kt={class:"text-center mb-6"},Zt=(0,l.Uk)("mdi-music-note-plus"),Ht=Bt((()=>(0,l._)("h1",{class:"text-h5 font-weight-bold mt-2"},"Add a new song",-1))),Yt=Bt((()=>(0,l._)("p",{class:"text-body-2 text-medium-emphasis mt-1"}," Save a tab so you can find it later. ",-1))),Jt={class:"d-flex flex-wrap mt-2",style:{gap:"8px"}},Gt={class:"d-flex flex-wrap mt-3 mb-5",style:{gap:"8px"}},Qt={class:"d-flex align-center mt-5",style:{gap:"12px"}},Xt=(0,l.Uk)(" Save "),ea=(0,l.Uk)(" Cancel ");function ta(e,t,a,o,s,r){return(0,l.wg)(),(0,l.j4)(E.K,{class:"fill-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(B.o,{justify:"center",align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(K.D,{cols:"12",md:"8",lg:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{class:"pa-6",elevation:"6",rounded:"xl"},{default:(0,l.w5)((()=>[(0,l._)("div",Kt,[(0,l.Wm)(h.t,{size:"48",color:"primary"},{default:(0,l.w5)((()=>[Zt])),_:1}),Ht,Yt]),(0,l.Wm)(me.O,{ref:"form",onSubmit:(0,i.iM)(r.createSong,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(ge.h,{modelValue:s.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.title=e),modelModifiers:{trim:!0},label:"Title","prepend-inner-icon":"mdi-music",variant:"outlined",density:"comfortable",rules:s.titleRules,"hide-details":"auto",class:"mb-5"},null,8,["modelValue","rules"]),(0,l.Wm)(ge.h,{modelValue:s.artist,"onUpdate:modelValue":t[1]||(t[1]=e=>s.artist=e),modelModifiers:{trim:!0},label:"Artist (optional)","prepend-inner-icon":"mdi-account-music-outline",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mb-5"},null,8,["modelValue"]),(0,l.Wm)(Ge.rL,{modelValue:s.difficulty,"onUpdate:modelValue":t[2]||(t[2]=e=>s.difficulty=e),items:s.difficultyOptions,"item-value":"value",label:"Difficulty","prepend-inner-icon":"mdi-signal",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mb-5"},null,8,["modelValue","items"]),(0,l.Wm)(Rt.Z,{modelValue:s.pdfFile,"onUpdate:modelValue":t[3]||(t[3]=e=>s.pdfFile=e),label:"Upload PDF tab (optional)",accept:"application/pdf","prepend-inner-icon":"mdi-file-pdf-box","prepend-icon":"",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mb-5","show-size":""},null,8,["modelValue"]),(0,l.Wm)(Et.z,{modelValue:s.tab,"onUpdate:modelValue":t[4]||(t[4]=e=>s.tab=e),class:"mb-5",label:"Tab / Notes","prepend-inner-icon":"mdi-note-text-outline",variant:"outlined",density:"comfortable",rows:"7","auto-grow":"",rules:s.tabRules,"hide-details":"auto"},null,8,["modelValue","rules"]),(0,l.Wm)(ge.h,{modelValue:s.tagInput,"onUpdate:modelValue":t[5]||(t[5]=e=>s.tagInput=e),label:"Add tag",variant:"outlined",density:"comfortable","hide-details":"auto",onKeydown:t[6]||(t[6]=(0,i.D2)((0,i.iM)((e=>r.addTag(s.tagInput)),["prevent"]),["enter"]))},null,8,["modelValue"]),(0,l._)("div",Jt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.tags,(e=>((0,l.wg)(),(0,l.j4)(He.v,{key:e,closable:"","onClick:close":t=>r.removeTag(e)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e),1)])),_:2},1032,["onClick:close"])))),128))]),(0,l._)("div",Gt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.tagSuggestions,(e=>((0,l.wg)(),(0,l.j4)(He.v,{key:e,variant:"outlined",onClick:t=>r.addTag(e)},{default:(0,l.w5)((()=>[(0,l.Uk)(" + "+(0,n.zw)(e),1)])),_:2},1032,["onClick"])))),128))]),s.error?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"error",variant:"tonal",class:"mt-4",border:"start"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.error),1)])),_:1})):(0,l.kq)("",!0),(0,l._)("div",Qt,[(0,l.Wm)(m.T,{type:"submit",color:"primary",size:"large",loading:s.loading,disabled:s.loading},{default:(0,l.w5)((()=>[Xt])),_:1},8,["loading","disabled"]),(0,l.Wm)(m.T,{variant:"text",size:"large",to:"/songs",router:"",disabled:s.loading},{default:(0,l.w5)((()=>[ea])),_:1},8,["disabled"])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var aa={name:"CreateSong",data(){return{title:"",artist:"",tab:"",loading:!1,error:null,pdfFile:[],difficulty:"beginner",difficultyOptions:[{title:"Beginner",value:"beginner"},{title:"Intermediate",value:"intermediate"},{title:"Advanced",value:"advanced"}],tags:[],tagInput:"",tagSuggestions:["rock","pop","blues","jazz","metal","punk","indie","country","folk","funk","reggae","classical"],titleRules:[e=>!!e||"Title is required",e=>e&&e.length>=2||"Title must be at least 2 characters"],tabRules:[e=>!!e||"Tab/notes are required"]}},methods:{async createSong(){this.error=null;const{valid:e}=await this.$refs.form.validate();if(e){this.loading=!0;try{const e=new FormData;e.append("title",this.title),e.append("artist",this.artist||""),e.append("tab",this.tab||""),e.append("difficulty",this.difficulty),e.append("tags",JSON.stringify(this.tags)),this.pdfFile?.length&&e.append("pdf",this.pdfFile[0]),await Nt.create(e),this.$router.push("/songs")}catch(t){this.error=t?.response?.data?.error||"Could not create song. Are you logged in?"}finally{this.loading=!1}}},addTag(e){const t=String(e||"").toLowerCase().trim();t&&(this.tags.includes(t)||(this.tags.push(t),this.tagInput=""))},removeTag(e){this.tags=this.tags.filter((t=>t!==e))}}};const ia=(0,A.Z)(aa,[["render",ta],["__scopeId","data-v-0844f22d"]]);var la=ia,oa=a(6353);const sa=e=>((0,l.dD)("data-v-664c4ac0"),e=e(),(0,l.Cn)(),e),ra={class:"d-flex align-center justify-space-between mb-6"},na={class:"d-flex align-center",style:{gap:"10px"}},da={class:"text-h5 font-weight-bold"},ua={class:"text-body-2 text-medium-emphasis"},ca={class:"d-flex align-center",style:{gap:"10px"}},ma=(0,l.Uk)("mdi-arrow-left"),ga=(0,l.Uk)(" Back "),fa=(0,l.Uk)("mdi-pencil-outline"),pa=(0,l.Uk)(" Edit "),ha=(0,l.Uk)("mdi-delete-outline"),wa=(0,l.Uk)(" Delete "),ba=(0,l.Uk)("mdi-file-pdf-box"),va=(0,l.Uk)(" View PDF "),ya={class:"d-flex align-center justify-space-between mb-4"},_a=sa((()=>(0,l._)("div",{class:"text-subtitle-1 font-weight-bold"},"Practice progress",-1))),ka={class:"text-body-2 text-medium-emphasis"},xa={class:"d-flex align-center justify-space-between mt-3"},Wa={class:"text-caption text-medium-emphasis"},Ua=(0,l.Uk)(" Last practiced: "),Ta={class:"d-flex",style:{gap:"10px"}},Da=(0,l.Uk)(" Save "),Va=(0,l.Uk)("mdi-timer"),Ca=(0,l.Uk)(" Practice now "),Sa=sa((()=>(0,l._)("div",{class:"text-medium-emphasis"},"Loading song..",-1))),za={class:"d-flex align-center justify-space-between mb-3"},ja=sa((()=>(0,l._)("div",{class:"text-subtitle-1 font-weight-bold"},"Tab",-1))),Ia=(0,l.Uk)("mdi-content-copy"),Fa=(0,l.Uk)(" Copy "),Pa=(0,l.Uk)(" No tab content available for this song yet. "),Aa={key:1,class:"tab-box"},Oa={key:0,class:"mt-6"},La=sa((()=>(0,l._)("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"PDF Preview",-1))),Na=["src"],$a={class:"mt-3"},Ma=(0,l.Uk)("mdi-open-in-new"),qa=(0,l.Uk)(" Open in new tab "),Ra=(0,l.Uk)("Delete song?"),Ea=(0,l.Uk)(" This will permanently delete: "),Ba=(0,l.Uk)(" Cancel "),Ka=(0,l.Uk)(" Delete ");function Za(e,t,a,i,o,s){return(0,l.wg)(),(0,l.j4)(E.K,null,{default:(0,l.w5)((()=>[(0,l._)("div",ra,[(0,l._)("div",null,[(0,l._)("div",na,[(0,l._)("h1",da,(0,n.zw)(s.title),1),(0,l.Wm)(He.v,{class:"ml-2",size:"small",variant:"outlined",color:s.difficultyColor(o.song?.difficulty)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.difficultyLabel(o.song?.difficulty)),1)])),_:1},8,["color"])]),(0,l._)("p",ua,(0,n.zw)(s.subtitle),1)]),(0,l._)("div",ca,[(0,l.Wm)(m.T,{variant:"outlined",to:"/songs",router:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[ma])),_:1}),ga])),_:1}),(0,l.Wm)(m.T,{color:"primary",variant:"outlined",to:`/songs/${s.songId}/edit`,router:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[fa])),_:1}),pa])),_:1},8,["to"]),(0,l.Wm)(m.T,{color:"error",variant:"outlined",onClick:t[0]||(t[0]=e=>o.deleteDialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[ha])),_:1}),wa])),_:1}),(0,l.Wm)(m.T,{variant:"outlined",onClick:s.toggleFavorite},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:"",color:o.song?.isFavorite?"warning":void 0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(o.song?.isFavorite?"mdi-star":"mdi-star-outline"),1)])),_:1},8,["color"]),(0,l.Uk)(" "+(0,n.zw)(o.song?.isFavorite?"Favorited":"Favorite"),1)])),_:1},8,["onClick"]),s.pdfUrl?((0,l.wg)(),(0,l.j4)(m.T,{key:0,variant:"outlined",href:s.pdfUrl,target:"_blank"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[ba])),_:1}),va])),_:1},8,["href"])):(0,l.kq)("",!0)])]),(0,l.Wm)(g._,{class:"mt-6 pa-6 mb-5",rounded:"xl"},{default:(0,l.w5)((()=>[(0,l._)("div",ya,[_a,(0,l._)("div",ka,(0,n.zw)(o.progressLocal)+"%",1)]),(0,l.Wm)(oa.R,{modelValue:o.progressLocal,"onUpdate:modelValue":t[1]||(t[1]=e=>o.progressLocal=e),min:0,max:100,step:"5","hide-details":"auto"},null,8,["modelValue"]),(0,l._)("div",xa,[(0,l._)("div",Wa,[Ua,(0,l._)("b",null,(0,n.zw)(o.song?.lastPracticedAt?s.formatDate(o.song.lastPracticedAt):"Never"),1)]),(0,l._)("div",Ta,[(0,l.Wm)(m.T,{variant:"outlined",onClick:s.saveProgress,loading:o.savingProgress},{default:(0,l.w5)((()=>[Da])),_:1},8,["onClick","loading"]),(0,l.Wm)(m.T,{color:"primary",onClick:s.practiceNow,loading:o.practicing},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[Va])),_:1}),Ca])),_:1},8,["onClick","loading"])])])])),_:1}),o.error?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"error",variant:"tonal",class:"mb-4",border:"start"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(o.error),1)])),_:1})):(0,l.kq)("",!0),o.loading?((0,l.wg)(),(0,l.j4)(g._,{key:1,class:"pa-6",rounded:"xl"},{default:(0,l.w5)((()=>[Sa,(0,l.Wm)(Je.K,{indeterminate:"",class:"mt-3"})])),_:1})):o.song?((0,l.wg)(),(0,l.j4)(g._,{key:2,rounded:"xl",class:"pa-6"},{default:(0,l.w5)((()=>[(0,l._)("div",za,[ja,s.tab?((0,l.wg)(),(0,l.j4)(m.T,{key:0,size:"small",variant:"outlined",onClick:s.copyTab},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:"",size:"18"},{default:(0,l.w5)((()=>[Ia])),_:1}),Fa])),_:1},8,["onClick"])):(0,l.kq)("",!0)]),s.tab?((0,l.wg)(),(0,l.iD)("pre",Aa,(0,n.zw)(s.tab),1)):((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"info",variant:"tonal",border:"start"},{default:(0,l.w5)((()=>[Pa])),_:1}))])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(g._,null,{default:(0,l.w5)((()=>[s.pdfUrl?((0,l.wg)(),(0,l.iD)("div",Oa,[La,(0,l._)("iframe",{src:s.pdfUrl,style:{width:"100%",height:"600px",border:"none","border-radius":"12px"}},null,8,Na),(0,l._)("div",$a,[(0,l.Wm)(m.T,{href:s.pdfUrl,target:"_blank",variant:"outlined"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[Ma])),_:1}),qa])),_:1},8,["href"])])])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(Qe.v,{modelValue:o.snackbar.show,"onUpdate:modelValue":t[2]||(t[2]=e=>o.snackbar.show=e),timeout:2500},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(o.snackbar.text),1)])),_:1},8,["modelValue"]),(0,l.Wm)(Ye.B,{modelValue:o.deleteDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>o.deleteDialog=e),"max-width":"520"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"xl"},{default:(0,l.w5)((()=>[(0,l.Wm)(Be.E,{class:"text-h6 font-weight-bold"},{default:(0,l.w5)((()=>[Ra])),_:1}),(0,l.Wm)(Ke.Z,null,{default:(0,l.w5)((()=>[Ea,(0,l._)("b",null,(0,n.zw)(s.title),1)])),_:1}),(0,l.Wm)(Ze.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p.C),(0,l.Wm)(m.T,{variant:"text",onClick:t[3]||(t[3]=e=>o.deleteDialog=!1),disabled:o.deleting},{default:(0,l.w5)((()=>[Ba])),_:1},8,["disabled"]),(0,l.Wm)(m.T,{color:"error",onClick:s.confirmDelete,loading:o.deleting},{default:(0,l.w5)((()=>[Ka])),_:1},8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var Ha={name:"SongDetailsView",data(){return{song:null,loading:!1,error:null,snackbar:{show:!1,text:""},serverUrl:"http://localhost:8081",deleteDialog:!1,deleting:!1,progressLocal:0,savingProgress:!1,practicing:!1}},computed:{title(){return this.song?.title||this.song?.name||"Song"},subtitle(){const e=this.song?.artist||this.song?.band||"",t=this.song?.createdAt||this.song?.created_at||null,a=[];return e&&a.push(`Artist: ${e}`),t&&a.push(`Created: ${this.formatDate(t)}`),a.join(" â€¢ ")},tab(){return this.song?.tab||this.song?.tabs||this.song?.content||this.song?.notes||this.song?.lyrics||""},pdfUrl(){return this.song?.pdfPath?this.serverUrl+this.song.pdfPath:""},songId(){return this.$route.params.id}},async created(){await this.loadSong()},watch:{"$route.params.id":{handler(){this.loadSong()}}},methods:{async loadSong(){this.loading=!0,this.error=null;try{const e=this.$route.params.id,t=await Nt.getById(e);this.song=t.data,this.progressLocal=Number(this.song?.progress??0)}catch(e){this.error=e?.response?.data?.error||"Failed to load song."}finally{this.loading=!1}},formatDate(e){const t=new Date(e);return Number.isNaN(t.getTime())?String(e):t.toLocaleString()},async copyTab(){try{await navigator.clipboard.writeText(this.tab),this.snack("Tab copied!")}catch{this.snack("Copy failed!")}},snack(e){this.snackbar.text=e,this.snackbar.show=!0},async confirmDelete(){this.deleting=!0;try{await Nt.remove(this.songId),this.snack("Deleted."),this.$router.push("/songs")}catch(e){this.error=e?.response?.data?.error||"Failed to delete song."}finally{this.deleting=!1,this.deleteDialog=!1}},normalizeDifficulty(e){const t=String(e||"").toLowerCase().trim();return["beginner","intermediate","advanced"].includes(t)?t:"beginner"},difficultyLabel(e){const t=this.normalizeDifficulty(e);return"beginner"===t?"Beginner":"intermediate"===t?"Intermediate":"Advanced"},difficultyColor(e){const t=this.normalizeDifficulty(e);return"beginner"===t?"success":"intermediate"===t?"warning":"error"},async toggleFavorite(){try{const e=await Nt.toggleFavorite(this.songId);this.song=e.data,this.snack(this.song.isFavorite?" Added to favorites!":"Removed from favorites")}catch(e){this.error=e?.response?.data?.error||"Could not toggle favorite."}},async saveProgress(){this.savingProgress=!0;try{const e=new FormData;e.append("progress",String(this.progressLocal));const t=await Nt.update(this.songId,e);this.song=t.data,this.snack("Progress saved.")}catch(e){this.error=e?.response?.data?.error||"Failed to save progress."}finally{this.savingProgress=!1}},async practiceNow(){this.practicing=!0;try{const e=await Nt.practiceNow(this.songId,{bumpProgress:0});this.song=e.data,this.progressLocal=Number(this.song?.progress??0),this.snack("Logged practice!")}catch(e){this.error=e?.response?.data?.error||"Failed to log practice."}finally{this.practicing=!1}}}};const Ya=(0,A.Z)(Ha,[["render",Za],["__scopeId","data-v-664c4ac0"]]);var Ja=Ya;const Ga={class:"d-flex align-center justify-space-between mb-6"},Qa=(0,l._)("div",null,[(0,l._)("h1",{class:"text-h5 font-weight-bold"},"Edit Song"),(0,l._)("p",{class:"text-body-2 text-medium-emphasis"},"Update title, tab, or replace PDF.")],-1),Xa=(0,l.Uk)("mdi-arrow-left"),ei=(0,l.Uk)(" Back "),ti={key:0,class:"mt-4"},ai=(0,l._)("div",{class:"text-subtitle-2 font-weight-bold mb-2"},"Current PDF",-1),ii=["src"],li={class:"d-flex justify-end mt-6",style:{gap:"10px"}},oi=(0,l.Uk)("Cancel"),si=(0,l.Uk)("Save");function ri(e,t,a,o,s,r){return(0,l.wg)(),(0,l.j4)(E.K,null,{default:(0,l.w5)((()=>[(0,l._)("div",Ga,[Qa,(0,l.Wm)(m.T,{variant:"outlined",to:`/songs/${r.songId}`,router:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[Xa])),_:1}),ei])),_:1},8,["to"])]),s.error?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"error",variant:"outlined",class:"mb-4",border:"start"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.error),1)])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(g._,{rounded:"xl",class:"pa-6"},{default:(0,l.w5)((()=>[(0,l.Wm)(me.O,{ref:"form",onSubmit:(0,i.iM)(r.save,["prevent"]),"validate-on":"submit"},{default:(0,l.w5)((()=>[(0,l.Wm)(ge.h,{modelValue:s.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.title=e),label:"Title",variant:"outlined",density:"comfortable","hide-details":"auto",rules:[e=>!!e||"Title is required"]},null,8,["modelValue","rules"]),(0,l.Wm)(ge.h,{modelValue:s.artist,"onUpdate:modelValue":t[1]||(t[1]=e=>s.artist=e),label:"Artist (optional)",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mt-5"},null,8,["modelValue"]),(0,l.Wm)(Ge.rL,{modelValue:e.difficulty,"onUpdate:modelValue":t[2]||(t[2]=t=>e.difficulty=t),class:"mt-5",items:e.difficultyOptions,"item-value":"value",label:"Difficulty","prepend-inner-icon":"mdi-signal",variant:"outlined",density:"comfortable","hide-details":"auto"},null,8,["modelValue","items"]),(0,l.Wm)(Et.z,{modelValue:s.tab,"onUpdate:modelValue":t[3]||(t[3]=e=>s.tab=e),label:"Tab (optional)",variant:"outlined",density:"comfortable","hide-details":"auto",rows:"10",class:"mt-5"},null,8,["modelValue"]),(0,l.Wm)(Rt.Z,{modelValue:s.pdfFile,"onUpdate:modelValue":t[4]||(t[4]=e=>s.pdfFile=e),label:"Replace PDF tab (optional)",accept:"application/pdf","prepend-inner-icon":"mdi-file-pdf-box","prepend-icon":"",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mt-5","show-size":"",multiple:!1},null,8,["modelValue"]),r.currentPdfUrl?((0,l.wg)(),(0,l.iD)("div",ti,[ai,(0,l._)("iframe",{src:r.currentPdfUrl,style:{width:"100%",height:"420px",border:"none","border-radius":"12px"}},null,8,ii)])):(0,l.kq)("",!0),(0,l._)("div",li,[(0,l.Wm)(m.T,{variant:"text",to:`/songs/${r.songId}`,router:""},{default:(0,l.w5)((()=>[oi])),_:1},8,["to"]),(0,l.Wm)(m.T,{color:"primary",type:"submit",loading:s.loading},{default:(0,l.w5)((()=>[si])),_:1},8,["loading"])])])),_:1},8,["onSubmit"])])),_:1}),(0,l.Wm)(Qe.v,{modelValue:s.snackbar.show,"onUpdate:modelValue":t[5]||(t[5]=e=>s.snackbar.show=e),timeout:2500},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(s.snackbar.text),1)])),_:1},8,["modelValue"])])),_:1})}var ni={name:"EditSongView",data(){return{title:"",artist:"",tab:"",pdfFile:[],song:null,loading:!1,error:null,snackbar:{show:!1,text:""},serverUrl:"http://localhost:8081"}},computed:{songId(){return this.$route.params.id},currentPdfUrl(){return this.song?.pdfPath?this.serverUrl+this.song.pdfPath:""}},async created(){await this.load()},methods:{async load(){this.loading=!0,this.error=null;try{const e=await Nt.getById(this.songId);this.song=e.data,this.title=this.song?.title||"",this.artist=this.song?.artist||"",this.tab=this.song?.tab||"",this.difficulty=this.song?.difficulty||"beginner";try{this.tags=JSON.parse(this.song?.tags||"[]")}catch{this.tags=[]}}catch(e){this.error=e?.response?.data?.error||"Failed to load song."}finally{this.loading=!1}},async save(){this.error=null;const{valid:e}=await this.$refs.form.validate();if(e){this.loading=!0;try{const e=new FormData;e.append("title",this.title),e.append("artist",this.artist||""),e.append("tab",this.tab||""),e.append("difficulty",this.difficulty),e.append("tags",JSON.stringify(this.tags)),this.pdfFile?.length&&e.append("pdf",this.pdfFile[0]),await Nt.update(this.songId,e),this.snack("Saved"),this.$router.push(`/songs/${this.songId}`)}catch(t){console.log(t),this.error=t?.response?.data?.error||"Failed to update song."}finally{this.loading=!1}}},snack(e){this.snackbar.text=e,this.snackbar.show=!0}}};const di=(0,A.Z)(ni,[["render",ri]]);var ui=di;const ci={class:"d-flex align-center justify-space-between mb-6 profile-header"},mi=(0,l._)("div",null,[(0,l._)("h1",{class:"text-h5 font-weight-bold"},"Profile"),(0,l._)("p",{class:"text-body-2 text-medium-emphasis"}," Your account & quick stats. ")],-1),gi={class:"d-flex align-center",style:{gap:"10px"}},fi=(0,l.Uk)("mdi-music"),pi=(0,l.Uk)(" My songs "),hi=(0,l.Uk)("mdi-logout"),wi=(0,l.Uk)(" Logout "),bi={class:"d-flex align-center",style:{gap:"14px"}},vi=(0,l.Uk)("mdi-account"),yi={class:"text-subtitle-1 font-weight-bold"},_i={class:"text-body-2 text-medium-emphasis"},ki={class:"d-flex align-center justify-space-between"},xi=(0,l._)("div",{class:"text-subtitle-2 font-weight-bold"},"My songs",-1),Wi={class:"text-body-2 text-medium-emphasis"},Ui=(0,l.Uk)(" You donâ€™t have any songs yet. Add your first one ðŸŽ¸ "),Ti={key:2,class:"text-center mt-2"},Di=(0,l.Uk)("View all"),Vi=(0,l._)("div",{class:"text-subtitle-1 font-weight-bold mb-4"},"Your stats",-1),Ci={class:"d-flex align-center justify-space-between"},Si=(0,l._)("div",{class:"text-body-2 text-medium-emphasis"},"Songs",-1),zi={class:"text-h6 font-weight-bold"},ji=(0,l.Uk)("mdi-playlist-music"),Ii={class:"d-flex align-center justify-space-between"},Fi=(0,l._)("div",{class:"text-body-2 text-medium-emphasis"},"Favorites",-1),Pi={class:"text-h6 font-weight-bold"},Ai=(0,l.Uk)("mdi-star"),Oi={class:"d-flex align-center justify-space-between"},Li=(0,l._)("div",{class:"text-body-2 text-medium-emphasis"},"In progress",-1),Ni={class:"text-h6 font-weight-bold"},$i=(0,l.Uk)("mdi-progress-clock"),Mi={class:"d-flex align-center justify-space-between"},qi=(0,l._)("div",{class:"text-body-2 text-medium-emphasis"},"Practiced today",-1),Ri={class:"text-h6 font-weight-bold"},Ei=(0,l.Uk)("mdi-calendar-check"),Bi={class:"d-flex justify-end",style:{gap:"10px"}},Ki=(0,l.Uk)("mdi-refresh"),Zi=(0,l.Uk)(" Refresh ");function Hi(e,t,a,i,o,s){return(0,l.wg)(),(0,l.j4)(E.K,null,{default:(0,l.w5)((()=>[(0,l._)("div",ci,[mi,(0,l._)("div",gi,[(0,l.Wm)(m.T,{variant:"outlined",to:"/songs",router:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[fi])),_:1}),pi])),_:1}),(0,l.Wm)(m.T,{color:"error",variant:"outlined",onClick:s.logout},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[hi])),_:1}),wi])),_:1},8,["onClick"])])]),o.error?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"error",variant:"outlined",class:"mb-4",border:"start"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(o.error),1)])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(B.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(K.D,{cols:"12",md:"5"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"xl",class:"pa-6"},{default:(0,l.w5)((()=>[(0,l._)("div",bi,[(0,l.Wm)(c.V,{color:"primary",variant:"tonal",size:"56"},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{size:"28"},{default:(0,l.w5)((()=>[vi])),_:1})])),_:1}),(0,l._)("div",null,[(0,l._)("div",yi,(0,n.zw)(s.displayName),1),(0,l._)("div",_i,(0,n.zw)(s.email||"Unknown email"),1)])]),(0,l.Wm)(f.J,{class:"my-5"}),(0,l._)("div",ki,[xi,(0,l._)("div",Wi,(0,n.zw)(o.songs.length),1)]),(0,l.Wm)(f.J,{class:"my-3"}),0===o.songs.length?((0,l.wg)(),(0,l.j4)(ce.w,{key:0,type:"info",variant:"outlined",border:"start"},{default:(0,l.w5)((()=>[Ui])),_:1})):((0,l.wg)(),(0,l.j4)(w.i,{key:1,class:"bg-transparent",density:"compact"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.songsForProfile,(e=>((0,l.wg)(),(0,l.j4)(b.l,{class:"song-list-item mb-3 pa-2",key:e.id,to:`/songs/${e.id}`,router:""},{default:(0,l.w5)((()=>[(0,l.Wm)(v.V,{class:"font-weight-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.title||"Untitled"),1)])),_:2},1024),(0,l.Wm)(y.o,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.artist||"Unknown artist")+" â€¢ "+(0,n.zw)(s.formatDate(e.createdAt)),1)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})),o.songs.length>o.limit?((0,l.wg)(),(0,l.iD)("div",Ti,[(0,l.Wm)(m.T,{variant:"text",to:"/songs",router:""},{default:(0,l.w5)((()=>[Di])),_:1})])):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l.Wm)(K.D,{cols:"12",md:"7"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"xl",class:"pa-6"},{default:(0,l.w5)((()=>[Vi,(0,l.Wm)(B.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(K.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"lg",variant:"outlined",class:"pa-4"},{default:(0,l.w5)((()=>[(0,l._)("div",Ci,[(0,l._)("div",null,[Si,(0,l._)("div",zi,(0,n.zw)(s.stats.total),1)]),(0,l.Wm)(h.t,{size:"28"},{default:(0,l.w5)((()=>[ji])),_:1})])])),_:1})])),_:1}),(0,l.Wm)(K.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"lg",variant:"outlined",class:"pa-4"},{default:(0,l.w5)((()=>[(0,l._)("div",Ii,[(0,l._)("div",null,[Fi,(0,l._)("div",Pi,(0,n.zw)(s.stats.favorites),1)]),(0,l.Wm)(h.t,{size:"28"},{default:(0,l.w5)((()=>[Ai])),_:1})])])),_:1})])),_:1}),(0,l.Wm)(K.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"lg",variant:"outlined",class:"pa-4"},{default:(0,l.w5)((()=>[(0,l._)("div",Oi,[(0,l._)("div",null,[Li,(0,l._)("div",Ni,(0,n.zw)(s.stats.inProgress),1)]),(0,l.Wm)(h.t,{size:"28"},{default:(0,l.w5)((()=>[$i])),_:1})])])),_:1})])),_:1}),(0,l.Wm)(K.D,{cols:"12",sm:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(g._,{rounded:"lg",variant:"outlined",class:"pa-4"},{default:(0,l.w5)((()=>[(0,l._)("div",Mi,[(0,l._)("div",null,[qi,(0,l._)("div",Ri,(0,n.zw)(s.stats.practicedToday),1)]),(0,l.Wm)(h.t,{size:"28"},{default:(0,l.w5)((()=>[Ei])),_:1})])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(f.J,{class:"my-5"}),(0,l._)("div",Bi,[(0,l.Wm)(m.T,{variant:"outlined",onClick:s.refresh,loading:o.loading},{default:(0,l.w5)((()=>[(0,l.Wm)(h.t,{start:""},{default:(0,l.w5)((()=>[Ki])),_:1}),Zi])),_:1},8,["onClick","loading"])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Qe.v,{modelValue:o.snackbar.show,"onUpdate:modelValue":t[0]||(t[0]=e=>o.snackbar.show=e),timeout:2500},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(o.snackbar.text),1)])),_:1},8,["modelValue"])])),_:1})}var Yi={name:"ProfileView",data(){return{loading:!1,error:null,snackbar:{show:!1,text:""},songs:[],limit:8}},computed:{isLoggedIn(){return!!F.token||!!localStorage.getItem("token")},user(){return F.user||JSON.parse(localStorage.getItem("user")||"null")||{}},email(){return this.user?.email||""},displayName(){return this.user?.email?this.user.email.split("@")[0]:"User"},stats(){const e=this.songs.length,t=this.songs.filter((e=>!!e.isFavorite)).length,a=this.songs.filter((e=>{const t=Number(e?.progress??0);return t>0&&t<100})).length,i=this.songs.filter((e=>this.isToday(e?.lastPracticedAt))).length;return{total:e,favorites:t,inProgress:a,practicedToday:i}},songsForProfile(){const e=Array.isArray(this.songs)?[...this.songs]:[];return e.sort(((e,t)=>new Date(t.createdAt||0)-new Date(e.createdAt||0))).slice(0,this.limit)}},async created(){await this.refresh()},methods:{async refresh(){this.loading=!0,this.error=null;try{const e=await Nt.fetchAll();this.songs=Array.isArray(e.data)?e.data:e.data?.songs||[]}catch(e){this.error=e?.response?.data?.error||"Failed to load profile stats."}finally{this.loading=!1}},isToday(e){if(!e)return!1;const t=new Date(e);if(Number.isNaN(t.getTime()))return!1;const a=new Date;return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate()},snack(e){this.snackbar.text=e,this.snackbar.show=!0},logout(){F.clear?.(),localStorage.removeItem("token"),localStorage.removeItem("user"),this.snack("Logged out."),this.$router.push("/login")},formatDate(e){const t=new Date(e);return Number.isNaN(t.getTime())?"â€”":t.toLocaleDateString()}}};const Ji=(0,A.Z)(Yi,[["render",Hi]]);var Gi=Ji;const Qi=[{path:"/",name:"home",component:ue},{path:"/register",name:"register",component:ze},{path:"/login",name:"login",component:Ee},{path:"/songs",name:"songs",component:qt},{path:"/songs/create",name:"songs-create",component:la},{path:"/songs/:id",name:"song-details",component:Ja},{path:"/songs/:id/edit",name:"song-edit",component:ui},{path:"/profile",name:"profile",component:Gi}],Xi=(0,q.p7)({history:(0,q.PO)("/tab-tracker/"),routes:Qi});Xi.beforeEach(((e,t,a)=>{const i=!!localStorage.getItem("token");if(!i&&e.path.startsWith("/songs"))return a("/login");a()}));var el=Xi,tl=(a(9773),a(3398)),al=(0,tl.Rd)();async function il(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}il(),(0,i.ri)(M).use(el).use(al).mount("#app")}},t={};function a(i){var l=t[i];if(void 0!==l)return l.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,i,l,o){if(!i){var s=1/0;for(u=0;u<e.length;u++){i=e[u][0],l=e[u][1],o=e[u][2];for(var r=!0,n=0;n<i.length;n++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](i[n])}))?i.splice(n--,1):(r=!1,o<s&&(s=o));if(r){e.splice(u--,1);var d=l();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,l,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(i,l){if(1&l&&(i=this(i)),8&l)return i;if("object"===typeof i&&i){if(4&l&&i.__esModule)return i;if(16&l&&"function"===typeof i.then)return i}var o=Object.create(null);a.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var r=2&l&&i;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){s[e]=function(){return i[e]}}));return s["default"]=function(){return i},a.d(o,s),o}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,i){return a.f[i](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/webfontloader.1929796f.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="tab-tracker:";a.l=function(i,l,o,s){if(e[i])e[i].push(l);else{var r,n;if(void 0!==o)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==t+o){r=c;break}}r||(n=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+o),r.src=i),e[i]=[l];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(g);var l=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),l&&l.forEach((function(e){return e(a)})),t)return t(a)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),n&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/tab-tracker/"}(),function(){var e={143:0};a.f.j=function(t,i){var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)i.push(l[2]);else{var o=new Promise((function(a,i){l=e[t]=[a,i]}));i.push(l[2]=o);var s=a.p+a.u(t),r=new Error,n=function(i){if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",r.name="ChunkLoadError",r.type=o,r.request=s,l[1](r)}};a.l(s,n,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,o,s=i[0],r=i[1],n=i[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(n)var u=n(a)}for(t&&t(i);d<s.length;d++)o=s[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},i=self["webpackChunktab_tracker"]=self["webpackChunktab_tracker"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(2156)}));i=a.O(i)})();
//# sourceMappingURL=app.faef18dd.js.map